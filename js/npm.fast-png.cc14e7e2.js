"use strict";(self.webpackChunkresume=self.webpackChunkresume||[]).push([[484],{6764:function(t,e,s){s.d(e,{D4:function(){return S}});var n=s(4142),i=s(3988);const r=[];for(let t=0;t<256;t++){let e=t;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;r[t]=e}const h=4294967295;function a(t,e,s){const n=t.readUint32(),i=(a=new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),(function(t,e,s){let n=t;for(let t=0;t<s;t++)n=r[255&(n^e[t])]^n>>>8;return n}(h,a,e)^h)>>>0);var a;if(i!==n)throw new Error(`CRC mismatch for chunk ${s}. Expected ${n}, found ${i}`)}function o(t,e,s){for(let n=0;n<s;n++)e[n]=t[n]}function d(t,e,s,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<s;i++)e[i]=t[i]+e[i-n]&255}function c(t,e,s,n){let i=0;if(0===s.length)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+s[i]&255}function f(t,e,s,n,i){let r=0;if(0===s.length){for(;r<i;r++)e[r]=t[r];for(;r<n;r++)e[r]=t[r]+(e[r-i]>>1)&255}else{for(;r<i;r++)e[r]=t[r]+(s[r]>>1)&255;for(;r<n;r++)e[r]=t[r]+(e[r-i]+s[r]>>1)&255}}function p(t,e,s,n,i){let r=0;if(0===s.length){for(;r<i;r++)e[r]=t[r];for(;r<n;r++)e[r]=t[r]+e[r-i]&255}else{for(;r<i;r++)e[r]=t[r]+s[r]&255;for(;r<n;r++)e[r]=t[r]+l(e[r-i],s[r],s[r-i])&255}}function l(t,e,s){const n=t+e-s,i=Math.abs(n-t),r=Math.abs(n-e),h=Math.abs(n-s);return i<=r&&i<=h?t:r<=h?e:s}function _(t,e,s,n,i,r){switch(t){case 0:o(e,s,i);break;case 1:d(e,s,i,r);break;case 2:c(e,s,n,i);break;case 3:f(e,s,n,i,r);break;case 4:p(e,s,n,i,r);break;default:throw new Error(`Unsupported filter: ${t}`)}}const u=new Uint16Array([255]),g=255===new Uint8Array(u.buffer)[0];function w(t){return(255&t)<<8|t>>8&255}const m=new Uint16Array([255]),y=255===new Uint8Array(m.buffer)[0],b=new Uint8Array(0);function k(t){const{data:e,width:s,height:n,channels:i,depth:r}=t,h=Math.ceil(r/8)*i,a=Math.ceil(r/8*i*s),l=new Uint8Array(n*a);let _,u,g=b,w=0;for(let t=0;t<n;t++){switch(_=e.subarray(w+1,w+1+a),u=l.subarray(t*a,(t+1)*a),e[w]){case 0:o(_,u,a);break;case 1:d(_,u,a,h);break;case 2:c(_,u,g,a);break;case 3:f(_,u,g,a,h);break;case 4:p(_,u,g,a,h);break;default:throw new Error(`Unsupported filter: ${e[w]}`)}g=u,w+=a+1}if(16===r){const t=new Uint16Array(l.buffer);if(y)for(let e=0;e<t.length;e++)t[e]=U(t[e]);return t}return l}function U(t){return(255&t)<<8|t>>8&255}const E=Uint8Array.of(137,80,78,71,13,10,26,10);function A(t){if(!function(t){if(t.length<E.length)return!1;for(let e=0;e<E.length;e++)if(t[e]!==E[e])return!1;return!0}(t.readBytes(E.length)))throw new Error("wrong PNG signature")}const x=new TextDecoder("latin1");function C(t){if(function(t){if(!T.test(t))throw new Error("invalid latin1 text")}(t),0===t.length||t.length>79)throw new Error("keyword length must be between 1 and 79")}const T=/^[\u0000-\u00FF]*$/;function O(t){for(t.mark();0!==t.readByte(););const e=t.offset;t.reset();const s=x.decode(t.readBytes(e-t.offset-1));return t.skip(1),C(s),s}class D extends n.H{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:s=!1}=e;this._checkCrc=s,this._inflator=new i.EL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(A(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(A(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const s=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case"tEXt":!function(t,e,s){const n=O(e);t[n]=function(t,e){return x.decode(t.readBytes(e))}(e,s-n.length-1)}(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t)}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?a(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const s=this.offset;switch("fdAT"!==e&&"IDAT"!==e&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=s+t}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?a(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=function(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error(`invalid bit depth: ${t}`);return t}(this.readUint8());const e=this.readUint8();let s;switch(this._colorType=e,e){case 0:case 3:s=1;break;case 2:s=3;break;case 4:s=2;break;case 6:s=4;break;default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let t=0;t<e;t++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,s=this.offset+this.byteOffset;if(s+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,s,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case 0:case 2:if(t%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break;case 3:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const t=this.readByte();this._palette[e].push(t)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=O(this),s=this.readUint8();if(0!==s)throw new Error(`Unsupported iCCP compression method: ${s}`);const n=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:(0,i.UD)(n)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:e,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=k({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===t||0===s.xOffset&&0===s.yOffset&&s.width===this._png.width&&s.height===this._png.height)e.data=s.data;else{const n=this._apng.frames.at(t-1);this.disposeFrame(s,n,e),this.addFrameDataToCanvas(e,s)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,s){switch(t.disposeOp){case 0:break;case 1:for(let e=0;e<this._png.height;e++)for(let n=0;n<this._png.width;n++){const i=(e*t.width+n)*this._png.channels;for(let t=0;t<this._png.channels;t++)s.data[i+t]=0}break;case 2:s.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const s=1<<this._png.depth,n=(t,s)=>({index:((t+e.yOffset)*this._png.width+e.xOffset+s)*this._png.channels,frameIndex:(t*e.width+s)*this._png.channels});switch(e.blendOp){case 0:for(let s=0;s<e.height;s++)for(let i=0;i<e.width;i++){const{index:r,frameIndex:h}=n(s,i);for(let s=0;s<this._png.channels;s++)t.data[r+s]=e.data[h+s]}break;case 1:for(let i=0;i<e.height;i++)for(let r=0;r<e.width;r++){const{index:h,frameIndex:a}=n(i,r);for(let n=0;n<this._png.channels;n++){const i=e.data[a+this._png.channels-1]/s,r=n%(this._png.channels-1)==0?1:e.data[a+n],o=Math.floor(i*r+(1-i)*t.data[h+n]);t.data[h+n]+=o}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=k({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function(t){const{data:e,width:s,height:n,channels:i,depth:r}=t,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(r/8)*i,o=new Uint8Array(n*s*a);let d=0;for(let t=0;t<7;t++){const i=h[t],r=Math.ceil((s-i.x)/i.xStep),c=Math.ceil((n-i.y)/i.yStep);if(r<=0||c<=0)continue;const f=r*a,p=new Uint8Array(f);for(let t=0;t<c;t++){const h=e[d++],c=e.subarray(d,d+f);d+=f;const l=new Uint8Array(f);_(h,c,l,p,f,a),p.set(l);for(let e=0;e<r;e++){const r=i.x+e*i.xStep,h=i.y+t*i.yStep;if(!(r>=s||h>=n))for(let t=0;t<a;t++)o[(h*s+r)*a+t]=l[e*a+t]}}}if(16===r){const t=new Uint16Array(o.buffer);if(g)for(let e=0;e<t.length;e++)t[e]=w(t[e]);return t}return o}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:t}),this._inflator=new i.EL,this._writingDataChunks=!1}}var M;function S(t,e){return new D(t,e).decode()}n.H,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"}(M||(M={}))}}]);
//# sourceMappingURL=npm.fast-png.cc14e7e2.js.map